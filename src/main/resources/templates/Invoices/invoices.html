{#include main.html}
    {#title}Invoices{/title}
    {! Add some CSS !}
    {#moreStyles}
        <style>
            .error {
                color: red;
                border-color: red;
            }


            .form-style-6 {
                font: 95% Arial, Helvetica, sans-serif;
                max-width: 400px;
                margin: 10px auto;
                padding: 16px;
                background: #F7F7F7;
            }

            .form-style-6 h1 {
                background: #43D1AF;
                padding: 20px 0;
                font-size: 140%;
                font-weight: 300;
                text-align: center;
                color: #fff;
                margin: -16px -16px 16px -16px;
            }

            .form-style-6 input[type="text"],
            .form-style-6 input[type="date"],
            .form-style-6 input[type="datetime"],
            .form-style-6 input[type="email"],
            .form-style-6 input[type="number"],
            .form-style-6 input[type="search"],
            .form-style-6 input[type="time"],
            .form-style-6 input[type="url"],
            .form-style-6 textarea,
            .form-style-6 select {
                -webkit-transition: all 0.30s ease-in-out;
                -moz-transition: all 0.30s ease-in-out;
                -ms-transition: all 0.30s ease-in-out;
                -o-transition: all 0.30s ease-in-out;
                outline: none;
                box-sizing: border-box;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                width: 100%;
                background: #fff;
                margin-bottom: 4%;
                border: 1px solid #ccc;
                padding: 3%;
                color: #555;
                font: 95% Arial, Helvetica, sans-serif;
            }

            .form-style-6 input[type="text"]:focus,
            .form-style-6 input[type="date"]:focus,
            .form-style-6 input[type="datetime"]:focus,
            .form-style-6 input[type="email"]:focus,
            .form-style-6 input[type="number"]:focus,
            .form-style-6 input[type="search"]:focus,
            .form-style-6 input[type="time"]:focus,
            .form-style-6 input[type="url"]:focus,
            .form-style-6 textarea:focus,
            .form-style-6 select:focus {
                box-shadow: 0 0 5px #43D1AF;
                padding: 3%;
                border: 1px solid #43D1AF;
            }

            .form-style-6 input[type="submit"],
            .form-style-6 input[type="button"] {
                box-sizing: border-box;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                width: 100%;
                padding: 3%;
                background: #43D1AF;
                border-bottom: 2px solid #30C29E;
                border-top-style: none;
                border-right-style: none;
                border-left-style: none;
                color: #fff;
            }

            .form-style-6 input[type="submit"]:hover,
            .form-style-6 input[type="button"]:hover {
                background: #2EBC99;
            }

            .btn1 {
                box-sizing: border-box;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                width: 100%;
                padding: 3%;
                background: #43D1AF;
                border-bottom: 2px solid #30C29E;
                border-top-style: none;
                border-right-style: none;
                border-left-style: none;
                color: #fff;
            }

            .btn1:hover{
                background: #2EBC99;
            }



            /* Table Styles */



        </style>
    {/moreStyles}

    {#initInvoiceForm /}

 <br>
 <br>



{! Iterate over our invoice items !}
<div class="table-wrapper">
    <table class="fl-table">
        <tr>
            <th>Num√©ro</th>
            <th>Date Facturation</th>
            <th>Action</th>
        </tr>
        {#for invoice in invoices}
        {#fragment id="invoiceRow"}
            <tr id="row-{invoice.id}">
            {! This invokes the JavaExtensions.capitalise(String) extension method !}
            <td>{invoice.numFacture.toUpperCase}</td>
            <td>{invoice.dateFacturation}</td>

            <td>
            <div class="form-style-6">
                {! a button to go to detail /invoices/{id} !}
                <input type="button" onclick="window.location.href='{uri:Invoices.displayInvoice(invoice.id)}'" value="{invoice.numFacture.capitalise}">
                {! a button to delete /invoices/{id} !}
                {#form uri:Invoices.delete(invoice.id) }
                <button type="submit" class="btn1" title="DELETE"
                        hx-post="{uri:Invoices.delete(invoice.id)}" hx-target="#row-{invoice.id}" hx-swap="delete"
                        hx-vals='{"{inject:csrf.parameterName}": "{inject:csrf.token}"}'><i class="bi-trash"></i></button>
                {/form}
            </div>
            </td>
            </tr>
        {/fragment}
        {/for}
    </table>


</div>

<script src="https://unpkg.com/htmx.org@1.9.5" integrity="sha384-xcuj3WpfgjlKF+FXhSQFQ0ZNr39ln+hwjN3npfM9VBnUskLolQAcN80McRIVOPuO" crossorigin="anonymous"></script>


{/include}